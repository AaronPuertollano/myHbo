<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${movie.title}">Movie Info</title>
</head>
<body>
<div class="movie-header">
    <h1 class="movie-title" th:text="${movie.title}">Titulo</h1>
    <p class="movie-tagline" th:text="${movie.tagline}">Tagline</p>

    <div class="movie-details">
        <div class="detail-item">
            <div class="detail-label">Fecha de estreno</div>
            <div class="detail-value" th:text="${movie.releaseDate}">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Duracion</div>
            <div class="detail-value" th:text="${movie.runtime} + ' min'">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Presupuesto</div>
            <div class="detail-value" th:text="${movie.budget != null ? '$' + #numbers.formatInteger(movie.budget, 0, 'COMMA') : 'Desconegut'}">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Ingressos</div>
            <div class="detail-value" th:text="${movie.revenue != null ? '$' + #numbers.formatInteger(movie.revenue, 0, 'COMMA') : 'Desconegut'}">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Puntuacion</div>
            <div class="detail-value" th:text="${movie.voteAverage} + '/10'">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Votos</div>
            <div class="detail-value" th:text="${movie.voteCount}">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Popularidad</div>
            <div class="detail-value" th:text="${movie.popularity}">-</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Estado</div>
            <div class="detail-value" th:text="${movie.movieStatus}">-</div>
        </div>
    </div>

    <div style="margin-top: 20px;">
        <strong>Sinopsi:</strong>
        <p th:text="${movie.overview}">Overview</p>
    </div>
</div>

<div class="section" th:if="${!genres.isEmpty()}">
    <h2 class="section-title">Generos</h2>
    <div>
        <span class="badge" th:each="genre : ${genres}" th:text="${genre.genreName}">Genre</span>
    </div>
</div>

<div class="section" th:if="${!cast.isEmpty()}">
    <h2 class="section-title">Repartiment</h2>
    <table>
        <thead>
        <tr>
            <th>Actor/Actriu</th>
            <th>Personaja</th>
            <th>Ordren</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${cast}">
            <td th:text="${c.person.personName}">Nombre de actor</td>
            <td th:text="${c.characterName}">Personaje</td>
            <td th:text="${c.castOrder}">Orden</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="section" th:if="${!crew.isEmpty()}">
    <h2 class="section-title">Equipo tecnico</h2>
    <table>
        <thead>
        <tr>
            <th>Nombre</th>
            <th>Puesto</th>
            <th>Departamento</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${crew}">
            <td th:text="${c.person.personName}">Nombre de la crew</td>
            <td th:text="${c.job}">Trabajo</td>
            <td th:text="${c.department.departmentName}">Departmento</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="section" th:if="${!companies.isEmpty()}">
    <h2 class="section-title">Productoras</h2>
    <div>
        <span class="badge" th:each="company : ${companies}" th:text="${company.companyName}">Company</span>
    </div>
</div>

<div class="section" th:if="${!countries.isEmpty()}">
    <h2 class="section-title">Paises involucrados</h2>
    <div>
        <span class="badge" th:each="country : ${countries}" th:text="${country.countryName}">Country</span>
    </div>
</div>

<div class="section" th:if="${!languages.isEmpty()}">
    <h2 class="section-title">Idiomas</h2>
    <table>
        <thead>
        <tr>
            <th>Idiomas</th>
            <th>Rol</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="ml : ${languages}">
            <td th:text="${ml.language.name}">Language</td>
            <td th:text="${ml.languageRole.languageRole}">Role</td>
        </tr>
        </tbody>
    </table>
</div>

<div class="section" th:if="${!keywords.isEmpty()}">
    <h2 class="section-title">Palabras clave</h2>
    <div>
        <span class="badge" th:each="keyword : ${keywords}" th:text="${keyword.keywordName}">Keyword</span>
    </div>
</div>

<a href="/movies/search" class="back-link">‚Üê Volver</a>
</body>
</html>